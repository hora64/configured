<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="content/js/functions.js"></script>
  <style>
      body {
          margin: 0;
          padding: 0;
          box-sizing: border-box;
      }
      .container {
          display: flex;
          flex-direction: column;
          align-items: center;
      }
      .center-content {
          text-align: center;
          margin-top: 20px;
      }
      .list-row {
          display: flex;
          flex-direction: row;
          justify-content: center;
          flex-wrap: wrap;
          width: 100%;
          margin-bottom: 10px; /* Reduced margin-bottom */
      }
      .list-item {
          display: flex;
          flex-direction: column;
          align-items: center;
          text-align: center;
          padding: 10px;
          border-radius: 8px;
          margin: 10px;
          width: 128px;
          height: auto;
      }
      .list-item img {
          max-width: 100%;
          height: auto;
      }
      .social-links {
          position: relative;
          width: 150px;
          height: 150px;
          display: flex;
          justify-content: center;
          align-items: center;
      }
      .social-links .icon {
          --rotation: 0deg;
          --translation: 30px;
          position: absolute;
          width: 25px;
          height: auto;
          transform: rotate(var(--rotation)) translate(var(--translation)) rotate(calc(var(--rotation) * -1));
      }
      .list-item a {
          text-decoration: none;
          color: #0066cc;
          margin: 0 10px;
      }
      .section-label {
         text-align: center;
         margin-top: 10px; /* Reduced margin-top */
         margin-bottom: 10px;
         font-size: 1.2em;
         font-weight: bold;
      }
      .gap {
         margin-top: 20px;
      }
  </style>
  <link rel="stylesheet" href="content/css/icons.css">
  <title></title>
</head>
<body>
  <div class="container">
      <div class="center-content">
         <img id="banner" src="content/assets/images/prerenderedText/configured.gif" alt="Banner">
         <a href="#" class="image-button" onclick="loadTabContent('#content', 'content/windows/main.html')">
            <img id="deepglow-button" src="content/assets/images/configuredDeepGlow.png" alt="Deep Glow" onmouseover="setupImagePreview(this, 1.1)" onmouseout="setupImagePreview(this, 1)">
         </a>
      </div>
    <main>
      <img src="content/assets/images/prerenderedText/members.gif" class="section-label" alt="members">
      <div class="list-row">
        <div class="list-item">
          <div class="social-links">
            <strong>bou</strong>
            <a href="https://www.instagram.com/bobbykyho/" class="icon instagram"><img src="" class="icon instagram"></a>
            <a href="https://www.instagram.com/confrcted/" class="icon instagram"><img src="" class="icon instagram"></a>
          </div>
        </div>
        <div class="list-item">
          <div class="social-links">
            <strong>dracqula</strong>
            <a href="https://soundcloud.com/osuda" class="icon soundcloud"><img src="" class="icon soundcloud"></a>
            <a href="https://www.instagram.com/dracula.ki/" class="icon instagram"><img src="" class="icon instagram"></a>
          </div>
        </div>
        <div class="list-item">
          <div class="social-links">
            <strong>dstar</strong>
            <a href="https://soundcloud.com/user-91792945" class="icon soundcloud"><img src="" class="icon soundcloud"></a>
            <a href="https://www.instagram.com/dstarmickey/" class="icon instagram"><img src="" class="icon instagram"></a>
          </div>
        </div>
        <div class="list-item">
          <div class="social-links">
            <strong>golden</strong>
            <a href="https://www.instagram.com/goldenn.wav/" class="icon instagram"><img src="" class="icon instagram"></a>
            <a href="https://soundcloud.com/prodgolden" class="icon soundcloud"><img src="" class="icon soundcloud"></a>
          </div>
        </div>
      </div>
      <div class="gap"></div>
        <img src="content/assets/images/prerenderedText/resources.gif" class="section-label" alt="resources">
        <div class="list-row">
          <div class="list-item">
            <a href="#" class="prerenderedText assets" onclick="loadTabContent('#content', 'content/windows/configuredcontent/assets.html')">
              <img src="" class="prerenderedText assets" alt="Assets">
            </a>
          </div>
          <div class="list-item">
            <div class="social-links">
              <a href="#" class="prerenderedText toolandguides" onclick="loadTabContent('#content', 'content/windows/configuredcontent/toolandguides.html')">
                <img src="" class="prerenderedText toolandguides" alt="Tools and Guides">
              </a>
            </div>
          </div>
          <div class="list-item">
            <div class="social-links">
              <a href="#" class="prerenderedText info" onclick="loadTabContent('#content', 'content/windows/configuredcontent/info.html')">
                <img src="" class="prerenderedText info" alt="Info">
              </a>
            </div>
          </div>
        </div>
    </main>
  </div>
  <script>
    function loadTabContent(target, url) {
        $(target).load(url, function() {
            // Positioning logic
            document.querySelectorAll('.social-links').forEach(socialLinks => {
                const icons = socialLinks.querySelectorAll('.icon');
                const totalIcons = icons.length;
                const angleIncrement = 360 / totalIcons;

                icons.forEach((icon, index) => {
                    const angle = index * angleIncrement;
                    icon.style.setProperty('--rotation', `${angle}deg`);
                });
            });

            function isOverlapping(elem1, elem2, minDistance) {
                const rect1 = elem1.getBoundingClientRect();
                const rect2 = elem2.getBoundingClientRect();
                
                const dx = rect1.left - rect2.left;
                const dy = rect1.top - rect2.top;
                const distance = Math.sqrt(dx * dx + dy * dy);

                return distance < minDistance;
            }

            function positionElements(elements, minDistance) {
                elements.forEach((group, index) => {
                    let attempts = 0;
                    let overlap;
                    do {
                        const containerHeight = window.innerHeight;
                        const containerWidth = window.innerWidth;
                        const maxTop = containerHeight * 0.7 - group.offsetHeight;
                        const maxLeft = containerWidth * 0.7 - group.offsetWidth;
                        const minTop = containerHeight * 0.15;
                        const minLeft = containerWidth * 0.15;

                        const randomTop = Math.random() * maxTop + minTop;
                        const randomLeft = Math.random() * maxLeft + minLeft;

                        group.style.top = `${randomTop}px`;
                        group.style.left = `${randomLeft}px`;

                        overlap = false;
                        for (let i = 0; i < index; i++) {
                            if (isOverlapping(group, elements[i], minDistance)) {
                                overlap = true;
                                break;
                            }
                        }

                        attempts++;
                    } while (overlap && attempts < 100);
                });
            }

            const socialGroups = document.querySelectorAll('.social-group');
            positionElements(socialGroups, 150); // 150px is the minimum distance
        });
    }
  </script>
</body>
</html>

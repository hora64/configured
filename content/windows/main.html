<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="content/js/functions.js"></script>
  <style>
    body {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }
    .container {
        display: flex;
        flex-direction: column;
        align-items: center;
    }
    .center-content {
        text-align: center;
        margin-top: 20px;
    }
    .list-row {
        display: flex;
        flex-direction: row;
        justify-content: center;
        flex-wrap: wrap;
        width: 100%;
        margin-bottom: 10px; /* Reduced margin-bottom */
    }
    .list-item {
        display: flex;
        flex-direction: column;
        align-items: center;
        text-align: center;
        padding: 10px;
        border-radius: 8px;
        margin: 10px;
        width: 128px;
        height: auto;
    }
    .list-item img {
        max-width: 100%;
        height: auto;
    }
    .social-links {
        display: flex;
        gap: 10px;
        justify-content: center;
        flex-wrap: wrap;
        margin-top: 10px;
        position: relative; /* Needed for absolute positioning of single icons */
    }
    .list-item a {
        text-decoration: none;
        color: #0066cc;
        margin: 0 10px;
    }
    .section-label {
       text-align: center;
       margin-top: 10px; /* Reduced margin-top */
       margin-bottom: 10px;
       font-size: 1.2em;
       font-weight: bold;
    }
    .gap {
       margin-top: 20px;
    }
    .icon {
        --rotation: 0deg;
        --translation: 50px;
        position: absolute;
        width: 25px;
        height: auto;
        transform: rotate(var(--rotation)) translate(var(--translation)) rotate(calc(var(--rotation) * -1));
    }
    .icon:hover {
        transform: rotate(var(--rotation)) translate(var(--translation)) rotate(calc(var(--rotation) * -1)) scale(1.2);
    }
    .single-icon {
        position: absolute;
        top: 30px; /* 30px below the center */
        left: 50%;
        transform: translateX(-50%) !important;
    }
  </style>
  <link rel="stylesheet" href="content/css/icons.css">
  <title></title>
</head>
<body>
  <div class="container">
      <div class="center-content">
         <img id="banner" src="content/assets/images/prerenderedText/configured.gif" alt="Banner">
         <a href="#" class="image-button" onclick="loadTabContent('#content', 'content/windows/main.html')">
            <img id="deepglow-button" src="content/assets/images/configuredDeepGlow.png" alt="Deep Glow" onmouseover="setupImagePreview(this, 1.1)" onmouseout="setupImagePreview(this, 1)">
         </a>
      </div>
    <main>
      <img src="content/assets/images/prerenderedText/members.gif" class="section-label" alt="members">
      <div class="list-row">
        <div class="list-item">
          <div class="social-links">
            <a href="#" class="prerenderedText ctnMedia" onclick="loadTabContent('#content', 'content/windows/members/ctnMedia.html')">
              <img src="" class="prerenderedText ctnMedia" alt="CTN Media">
            </a>
          </div>
        </div>
        <div class="list-item">
          <div class="social-links">
            <a href="#" class="prerenderedText ctnMusic" onclick="loadTabContent('#content', 'content/windows/members/ctnMusic.html')">
              <img src="" class="prerenderedText ctnMusic" alt="CTN Music">
            </a>
          </div>
        </div>
        <div class="list-item">
          <div class="social-links">
            <a href="#" class="prerenderedText games" onclick="loadTabContent('#content', 'content/windows/members/configuredGames.html')">
              <img src="" class="prerenderedText games" alt="Configured Games">
            </a>
          </div>
        </div>
        <div class="list-item">
          <div class="social-links">
            <a href="#" class="prerenderedText management" onclick="loadTabContent('#content', 'content/windows/members/configuredManagement.html')">
              <img src="" class="prerenderedText management" alt="Management">
            </a>
          </div>
        </div>
      </div>
      <div class="gap"></div>
        <img src="content/assets/images/prerenderedText/resources.gif" class="section-label" alt="resources">
        <div class="list-row">
          <div class="list-item">
            <a href="#" class="prerenderedText assets" onclick="loadTabContent('#content', 'content/windows/configuredcontent/assets.html')">
              <img src="" class="prerenderedText assets" alt="Assets">
            </a>
          </div>
          <div class="list-item">
            <div class="social-links">
              <a href="#" class="prerenderedText toolandguides" onclick="loadTabContent('#content', 'content/windows/configuredcontent/toolandguides.html')">
                <img src="" class="prerenderedText toolandguides" alt="Tools and Guides">
              </a>
            </div>
          </div>
          <div class="list-item">
            <div class="social-links">
              <a href="#" class="prerenderedText info" onclick="loadTabContent('#content', 'content/windows/configuredcontent/info.html')">
                <img src="" class="prerenderedText info" alt="Info">
              </a>
            </div>
          </div>
        </div>
    </main>
  </div>
  <script>
    function loadTabContent(target, url) {
      $(target).load(url, function() {
        setupIcons();
        positionElements(document.querySelectorAll('.social-group'), 200); // Adjust minimum distance as needed
      });
    }
  
    function setupIcons() {
      document.querySelectorAll('.social-links').forEach(socialLinks => {
        const icons = socialLinks.querySelectorAll('.icon');
        const totalIcons = icons.length;
        if (totalIcons === 1) {
          icons[0].classList.add('single-icon');
          icons[0].style.setProperty('--rotation', '0deg');
        } else {
          const angleIncrement = 360 / totalIcons;
          icons.forEach((icon, index) => {
            const angle = index * angleIncrement;
            icon.style.setProperty('--rotation', `${angle}deg`);
          });
        }
      });
    }
  
    function isOverlapping(elem1, elem2, minDistance) {
      const rect1 = elem1.getBoundingClientRect();
      const rect2 = elem2.getBoundingClientRect();
  
      const dx = rect1.left - rect2.left;
      const dy = rect1.top - rect2.top;
      const distance = Math.sqrt(dx * dx + dy * dy);
  
      return distance < minDistance;
    }
  
    function positionElements(elements, minDistance) {
      elements.forEach((group, index) => {
        let attempts = 0;
        let overlap;
        do {
          const containerHeight = window.innerHeight;
          const containerWidth = window.innerWidth * 0.8; // Use 80% of the page width
          const maxTop = containerHeight * 0.7 - group.offsetHeight;
          const maxLeft = containerWidth - group.offsetWidth;
          const minTop = containerHeight * 0.15;
          const minLeft = containerWidth * 0.1;
  
          const randomTop = Math.random() * (maxTop - minTop) + minTop;
          const randomLeft = Math.random() * (maxLeft - minLeft) + minLeft;
  
          group.style.top = `${randomTop}px`;
          group.style.left = `${randomLeft}px`;
  
          overlap = false;
          for (let i = 0; i < index; i++) {
            if (isOverlapping(group, elements[i], minDistance)) {
              overlap = true;
              break;
            }
          }
  
          attempts++;
        } while (overlap && attempts < 100);
      });
    }
  
    document.addEventListener('DOMContentLoaded', () => {
      setupIcons();
      positionElements(document.querySelectorAll('.social-group'), 175); // Adjust minimum distance as needed
    });
  </script>
  
  
  

</body>
</html>
